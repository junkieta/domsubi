<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <title>domsubi test</title>
        <style>
            pre {
                padding: 1em;
                font-family: monospace;
                line-height: 1.8;
                background-color: #333;
                color: #FFF;
            }
            pre var {
                font-style: normal;
                font-weight: bold;
                color: #88FF88;
            }
        </style>
    </head>
    <body>
        <header>
            <h1>domsubi test page</h1>
        </header>
        <section id="clickCount">
            <h2>Event & Contents</h2>
            <p>クリックカウンターのサンプルコード</p>
            <pre id="clickCountText">
const <var>sClicked</var> = new StreamSink();
const <var>countClicked</var> = <var>sClicked</var>.accum(0, (u,n) => n + 1);
const <var>varColor</var> = <var>countClicked</var>.map((n) => n % 5 ? 'black' : 'red');
const <var>countClickedVar</var> = {
    var: <var>countClicked</var>,
    $: {
        style: {
            color: <var>varColor</var>,
            fontSize: 'x-large'
        }
    }
};
const <var>contents</var> = new jshtml([
    { button: 'Click me!!', $: { onclick: <var>sClicked</var> } },
    { p: ['You clicked a button ', <var>countClickedVar</var>, ' times.'] }
]);

contents.mount(targetNode);</pre>
            <p>実行結果:</p>
            <script type="module">
                import {f} from "./f.js";
                import {StreamSink as s} from "./sodiumjs.js";
                import {jshtml as j} from "./domsubi.js";
                const txt = document.getElementById('clickCountText')
                const t = document.getElementById('clickCount').querySelector('script');
                f({ StreamSink: s, jshtml: j, targetNode: t }, txt);
            </script>
        </section>
    </body>
</html>
